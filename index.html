<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Tower of Hanoi</title>

<!-- Gaming title font -->
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600;700&family=Inter:wght@400;500&display=swap" rel="stylesheet">

<style>
* { box-sizing: border-box; }

body {
  margin: 0;
  min-height: 100vh;
  background: #000;
  color: #eee;
  font-family: 'Inter', system-ui, sans-serif;
  display: flex;
  justify-content: center;
  align-items: center;
}

.container {
  width: 100%;
  max-width: 860px;
  padding: 40px 28px;
  background: #050505;
  border: 1px solid #111;
  border-radius: 18px;
  text-align: center;
}

/* TITLE */
h1 {
  font-family: 'Orbitron', sans-serif;
  font-size: 2.8rem;
  letter-spacing: 1px;
  margin-bottom: 6px;
}

.subtitle {
  color: #888;
  margin-bottom: 26px;
}

/* INFO */
.info {
  display: flex;
  justify-content: space-between;
  gap: 16px;
  margin-bottom: 24px;
}

.info-box {
  flex: 1;
  background: #0b0b0b;
  border-radius: 12px;
  padding: 14px;
}

.info-label {
  font-size: 0.85rem;
  color: #777;
}

.info-value {
  font-size: 1.6rem;
  font-weight: 600;
}

/* GAME AREA */
.game-area {
  display: flex;
  justify-content: space-between;
  align-items: flex-end;
  height: 300px;
  margin-bottom: 26px;
}

.peg-container {
  width: 33%;
  height: 100%;
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
}

.peg-label {
  margin-bottom: 8px;
  color: #777;
}

.peg {
  width: 14px;
  height: 100%;
  background: #666;
  border-radius: 8px;
  position: relative;
}

.base {
  width: 120px;
  height: 10px;
  background: #666;
  border-radius: 6px;
  margin-top: -4px;
}

/* DISKS */
.disk {
  position: absolute;
  height: 26px;
  border-radius: 14px;
  left: 50%;
  transform: translateX(-50%);
  cursor: pointer;
  transition: top 0.25s ease, left 0.25s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 600;
  color: #000;
}

.disk.selected {
  outline: 2px solid #fff;
}

/* CONTROLS */
.controls {
  display: flex;
  justify-content: center;
  gap: 14px;
  margin-top: 10px;
}

button {
  padding: 10px 18px;
  border-radius: 10px;
  border: 1px solid #222;
  background: #111;
  color: #eee;
  cursor: pointer;
  font-size: 0.9rem;
}

button:hover {
  background: #1a1a1a;
}

.win {
  margin-top: 16px;
  font-size: 1.2rem;
  color: #00ff88;
  font-weight: 600;
}
</style>
</head>

<body>

<div class="container">
  <h1>Tower of Hanoi</h1>
  <div class="subtitle">Move all disks from A to C using the fewest moves.</div>

  <div class="info">
    <div class="info-box">
      <div class="info-label">Moves</div>
      <div class="info-value" id="moves">0</div>
    </div>
    <div class="info-box">
      <div class="info-label">Minimum</div>
      <div class="info-value" id="minMoves">7</div>
    </div>
  </div>

  <div class="game-area">
    <div class="peg-container" data-peg="0">
      <div class="peg-label">A</div>
      <div class="peg"></div>
      <div class="base"></div>
    </div>

    <div class="peg-container" data-peg="1">
      <div class="peg-label">B</div>
      <div class="peg"></div>
      <div class="base"></div>
    </div>

    <div class="peg-container" data-peg="2">
      <div class="peg-label">C</div>
      <div class="peg"></div>
      <div class="base"></div>
    </div>
  </div>

  <div class="controls">
    <button id="reset">Reset</button>
  </div>

  <div class="win" id="winMsg"></div>
</div>

<script>
/* ---------------- CONFIG ---------------- */
const DISK_COUNT = 3;

/* ---------------- STATE ---------------- */
let pegs = [[], [], []];
let moveCount = 0;
let selectedDisk = null;

/* ---------------- ELEMENTS ---------------- */
const moveEl = document.getElementById("moves");
const minEl = document.getElementById("minMoves");
const winEl = document.getElementById("winMsg");
const pegEls = document.querySelectorAll(".peg-container");

/* ---------------- INIT ---------------- */
function init() {
  pegs = [[], [], []];
  moveCount = 0;
  selectedDisk = null;
  winEl.textContent = "";
  moveEl.textContent = "0";
  minEl.textContent = Math.pow(2, DISK_COUNT) - 1;

  document.querySelectorAll(".disk").forEach(d => d.remove());

  for (let i = DISK_COUNT; i >= 1; i--) {
    pegs[0].push(i);
  }

  render();
}

/* ---------------- RENDER ---------------- */
function render() {
  pegEls.forEach((pegEl, pegIndex) => {
    const pegRect = pegEl.getBoundingClientRect();

    pegs[pegIndex].forEach((size, idx) => {
      let disk = document.querySelector(`.disk[data-size="${size}"]`);
      if (!disk) {
        disk = document.createElement("div");
        disk.className = "disk";
        disk.dataset.size = size;
        disk.style.width = 60 + size * 24 + "px";
        disk.style.background = `hsl(${size * 40}, 70%, 60%)`;
        disk.onclick = () => selectDisk(size, pegIndex);
        document.body.appendChild(disk);
      }

      const top =
        pegRect.bottom -
        20 -
        (idx + 1) * 28;

      const left =
        pegRect.left +
        pegRect.width / 2;

      disk.style.top = top + "px";
      disk.style.left = left + "px";
      disk.classList.toggle("selected", selectedDisk === size);
    });
  });
}

/* ---------------- GAME LOGIC ---------------- */
function selectDisk(size, fromPeg) {
  if (pegs[fromPeg][pegs[fromPeg].length - 1] !== size) return;

  if (selectedDisk === size) {
    selectedDisk = null;
  } else {
    selectedDisk = size;
  }
  render();
}

pegEls.forEach((pegEl, toPeg) => {
  pegEl.addEventListener("click", () => {
    if (selectedDisk === null) return;

    const fromPeg = pegs.findIndex(p => p[p.length - 1] === selectedDisk);
    const targetTop = pegs[toPeg][pegs[toPeg].length - 1];

    if (targetTop && targetTop < selectedDisk) return;

    pegs[fromPeg].pop();
    pegs[toPeg].push(selectedDisk);
    selectedDisk = null;
    moveCount++;
    moveEl.textContent = moveCount;
    render();
    checkWin();
  });
});

function checkWin() {
  if (pegs[2].length === DISK_COUNT) {
    winEl.textContent = "Solved!";
  }
}

document.getElementById("reset").onclick = init;

/* ---------------- START ---------------- */
init();
</script>

</body>
</html>
